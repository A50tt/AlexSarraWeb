<!-- <button
  class="border p-2 text-black dark:text-white"
  (click)="darkModeService.toggleDarkMode()"
>
  DARK MODE
</button> -->
<div
  class="w-4/7 grid max-h-[45vh] grid-rows-[0.1fr_0.1fr_0.1fr] gap-2 text-black dark:text-white md:grid-rows-[0.2fr_0.5fr_0.3fr] md:gap-6"
  [ngClass]="
    this.isInverted
      ? 'grid-cols-[1fr_2fr] md:grid-cols-[1fr_2fr]'
      : 'grid-cols-[2fr_1fr] md:grid-cols-[2fr_1fr]'
  "
>
  <!-- PROJECT TITLE -->
  <div
    class="row-start-1 inline-flex h-auto items-center gap-2 text-[length:--min-font-size-title] sm:text-[length:--sm-font-size-title] md:gap-4 md:text-[length:--md-font-size-title] lg:text-[length:--lg-font-size-title] xl:text-[length:--xl-font-size-title]"
    [ngClass]="this.isInverted ? 'col-start-2' : 'col-start-1'"
  >
    <a
      [innerHTML]="this.projectPrefix + '.name' | translate"
      href="/projects/{{ this.projectName }}"
    ></a>
    @if (doJsonKeyExists("github")) {
      <a
        class="h-auto w-8 align-baseline"
        href="{{ this.projectPrefix + '.github' | translate }}"
      >
        <!-- Black GitHub link for light mode -->
        <img
          src="/assets/images/icons/github_black.png"
          alt="GitHub logo link"
          class="block align-baseline dark:hidden"
        />
        <!-- White GitHub link for dark mode -->
        <img
          src="/assets/images/icons/github_white.png"
          alt="GitHub logo link"
          class="hidden w-4 align-baseline dark:block sm:w-5 md:w-6 lg:w-8"
        />
      </a>
    }
  </div>

  <!-- PROJECT DESCRIPTION -->
  <div
    [ngClass]="this.isInverted ? 'col-start-2' : 'col-start-1'"
    class="col-start-1 row-start-2 grid h-auto grid-cols-[4fr_1fr] items-center gap-4 text-[length:--min-font-size-normal-text] sm:text-[length:--sm-font-size-normal-text] md:text-[length:--md-font-size-normal-text] lg:text-[length:--lg-font-size-normal-text] xl:text-[length:--xl-font-size-normal-text]"
  >
    <div class="col-start-1">
      <p [innerHTML]="this.projectPrefix + '.description' | translate"></p>
    </div>
    <!-- PROJECT META INFO -->
    <div class="col-start-2 flex h-auto w-full items-center align-middle">
      <div class="grid w-full grid-rows-[1fr_1.5fr]">
        <div
          class="row-start-1 flex flex-col items-center border-b-2 border-l-2 border-black pr-4 dark:border-white"
        >
          <p
            class="text-center"
            [innerHTML]="this.projectPrefix + '.frameworks.title' | translate"
          ></p>
          <p
            class="text-center"
            [innerHTML]="
              this.projectPrefix + '.frameworks.secondary' | translate
            "
          ></p>
        </div>
        <div class="row-start-2 grid w-full grid-cols-[1fr_1fr_5fr]">
          <div
            class="cols-start-1 grid h-full w-full items-center justify-center border-l-2 border-r-2 border-black px-0.5 py-4 text-center dark:border-white md:px-2"
          >
            <u class="self-start font-bold">{{
              this.defaultsPrefix + ".year_label" | translate
            }}</u>
            <p>{{ this.projectPrefix + ".year" | translate }}</p>
          </div>
          <div
            class="cols-start-2 grid h-full w-full auto-rows-auto items-center justify-center border-r-2 border-black px-0.5 py-4 text-center dark:border-white md:px-2"
          >
            <u class="self-start font-bold">{{
              this.defaultsPrefix + ".duration_label" | translate
            }}</u>
            <p>{{ this.projectPrefix + ".duration" | translate }}</p>
          </div>
          <div
            class="cols-start-3 grid h-full w-full items-center justify-center px-0.5 py-4 text-center md:px-2"
          >
            <u class="self-start font-bold">{{
              this.defaultsPrefix + ".tools_label" | translate
            }}</u>
            <p [innerHTML]="this.projectPrefix + '.tools' | translate"></p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- PROJECT GALLERY -->
  <app-image-gallery
    [ngClass]="this.isInverted ? 'col-start-2' : 'col-start-1'"
    class="row-start-3 flex h-auto align-middle"
    [maxNumItems]="this.jsonProject['imagesPerRow']"
    [images]="this.projectPrefix + '.images' | translate"
    (imageClicked)="handleClickedImage($event)"
  ></app-image-gallery>

  <!-- PROJECT PREVIEW IMAGE -->
  <div
    class="row-span-full row-start-1 flex h-full w-full items-center justify-center"
  >
    <app-image-preview
      [ngClass]="this.isInverted ? 'col-start-1' : 'col-start-2'"
      [images]="this.images"
      [currentPreviewImage]="this.currentPreviewImage"
      class="h-full max-h-full object-contain"
    ></app-image-preview>
  </div>
</div>
